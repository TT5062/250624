import streamlit as st
import random

# MBTI 유형별 상세 설명 및 추천 직업 데이터 (업데이트됨)
mbti_details = {
    'INTJ': {
        'title': '💡 용의주도한 전략가 (Architect)',
        'description': "INTJ 유형은 상상력이 풍부하고 전략적인 사고를 하는 분석가형입니다. 독립적이고 결단력이 있으며, 자신의 아이디어를 현실로 만드는 데 열정을 쏟습니다. 비판적인 시각을 가지고 있지만, 목표 달성을 위해서는 효율적인 계획을 세우고 실행하는 능력이 뛰어납니다.",
        'jobs': ['전략 컨설턴트 💼', '과학자 🔬', '데이터 분석가 📊', '소프트웨어 개발자 💻', '건축가 📐', '연구원 🧪', '시스템 엔지니어 ⚙️', '변리사 📜']
    },
    'INTP': {
        'title': '🤔 논리적인 사색가 (Logician)',
        'description': "INTP 유형은 끊임없이 새로운 지식을 탐구하고 분석하는 논리적인 사색가입니다. 독창적인 아이디어를 즐기며, 복잡한 문제를 해결하는 데 능숙합니다. 개인적인 공간과 자유로운 사고를 중요하게 생각하며, 이론적인 것에 깊은 관심을 가집니다.",
        'jobs': ['철학자 📚', '대학교수 🧑‍🏫', '프로그래머 👨‍💻', '연구개발(R&D) 책임자 🚀', '데이터 과학자 🧠', '시스템 분석가 🌐', '수학자 ➕', '물리학자 ⚛️']
    },
    'ENTJ': {
        'title': '🎯 대담한 통솔자 (Commander)',
        'description': "ENTJ 유형은 타고난 리더십과 뛰어난 조직력을 바탕으로 목표를 향해 나아가는 통솔자입니다. 비전을 제시하고 다른 사람들을 이끌어가는 능력이 뛰어나며, 도전을 두려워하지 않습니다. 효율성과 성과를 중시하며, 장기적인 계획을 세우는 데 능숙합니다.",
        'jobs': ['CEO 👑', '경영 컨설턴트 📈', '변호사 ⚖️', '관리자 👨‍💼', '기업 임원 🏢', '정치인 🏛️', '투자 분석가 💰', '벤처 투자가 🚀']
    },
    'ENTP': {
        'title': '🗣️ 뜨거운 논쟁을 즐기는 변론가 (Debater)',
        'description': "ENTP 유형은 번뜩이는 아이디어와 논리적인 사고로 주변 사람들을 자극하는 변론가입니다. 새로운 가능성을 탐색하고 문제 해결에 창의적인 접근 방식을 사용합니다. 토론을 즐기며, 지적인 도전을 통해 에너지를 얻습니다.",
        'jobs': ['발명가 💡', '기업가 🚀', '정치 컨설턴트 🗣️', '마케팅 디렉터 📢', '투자자 💸', '광고 크리에이터 🎨', '저널리스트 📰', '방송 프로듀서 🎬']
    },
    'INFJ': {
        'title': '💖 선의의 옹호자 (Advocate)',
        'description': "INFJ 유형은 타인의 감정에 깊이 공감하고 이상적인 세상을 만들기 위해 헌신하는 옹호자입니다. 통찰력이 뛰어나며, 자신의 가치관에 따라 행동합니다. 조용하고 내성적이지만, 강한 신념과 영향력을 가지고 있습니다.",
        'jobs': ['심리 상담사  상담 🗣️', '사회복지사 돕기 🙏', '작가 ✍️', '인사(HR) 전문가 🫂', '직업 상담사 🧭', '비영리단체 관리자 🎗️', '영성 지도자 🕊️', '치료사 ⚕️']
    },
    'INFP': {
        'title': '🌟 열정적인 중재자 (Mediator)',
        'description': "INFP 유형은 상상력이 풍부하고 자신의 가치와 신념에 따라 행동하는 중재자입니다. 내면의 세계가 풍부하며, 예술과 창의적인 표현에 재능을 보입니다. 타인의 감정을 이해하고 공감하며, 조화로운 관계를 추구합니다.",
        'jobs': ['작가 🖋️', '시인 📝', '예술가 🎨', '그래픽 디자이너 🖼️', '심리학자 🧠', '콘텐츠 크리에이터 ✨', '음악가 🎵', '배우 🎭']
    },
    'ENFJ': {
        'title': '🤝 정의로운 사회운동가 (Protagonist)',
        'description': "ENFJ 유형은 타인을 격려하고 이끄는 데 능숙하며, 공동의 목표를 위해 사람들을 모으는 사회운동가입니다. 따뜻하고 공감 능력이 뛰어나며, 다른 사람의 성장과 발전을 돕는 데 큰 보람을 느낍니다. 뛰어난 의사소통 능력으로 사람들에게 긍정적인 영향을 미칩니다.",
        'jobs': ['교사 🍎', '코치 🧑‍🏫', '인사(HR) 매니저 🧑‍💼', '이벤트 코디네이터 🎉', '홍보 전문가 📢', '사회복지사 돕기 🙏', '정치인 🏛️', '강사 🎤']
    },
    'ENFP': {
        'title': '🌈 재기발랄한 활동가 (Campaigner)',
        'description': "ENFP 유형은 넘치는 에너지와 창의력으로 주변에 활력을 불어넣는 활동가입니다. 새로운 아이디어에 대한 열정이 많고, 다양한 가능성을 탐색하는 것을 즐깁니다. 뛰어난 대인 관계 능력으로 많은 사람들과 쉽게 소통하며, 자유로운 분위기에서 능력을 발휘합니다.",
        'jobs': ['크리에이티브 디렉터 💡', '저널리스트 📰', '배우 🎭', '광고 기획자 📣', '기업가 🚀', '여행 작가 ✈️', '유튜버 🎬', '강연가 🎤']
    },
    'ISTJ': {
        'title': '🛡️ 청렴결백한 논리주의자 (Logistician)',
        'description': "ISTJ 유형은 현실적이고 책임감이 강하며, 사실에 기반하여 신중하게 결정을 내리는 논리주의자입니다. 체계적이고 꼼꼼하게 일을 처리하며, 약속을 중요하게 생각합니다. 안정적이고 예측 가능한 환경을 선호합니다.",
        'jobs': ['회계사 🧾', '법률가 🏛️', '공무원 🏢', '데이터베이스 관리자 💾', '감리사 🔍', '프로젝트 매니저 🗓️', '분석가 🧐', '경영 컨설턴트 💼']
    },
    'ISFJ': {
        'title': '🏡 용감한 수호자 (Defender)',
        'description': "ISFJ 유형은 따뜻하고 헌신적이며, 주변 사람들을 세심하게 배려하는 수호자입니다. 책임감이 강하고 성실하며, 다른 사람들을 돕는 데 큰 기쁨을 느낍니다. 안정적인 환경에서 조용히 자신의 역할을 수행합니다.",
        'jobs': ['간호사 👩‍⚕️', '교사 🍎', '사서 📚', '인사 관리자 🫂', '수의사 🐶', '고객 서비스 담당자 📞', '사회복지사 돕기 🙏', '행정직 📂']
    },
    'ESTJ': {
        'title': '📊 엄격한 관리자 (Executive)',
        'description': "ESTJ 유형은 현실적이고 실용적이며, 조직을 이끌고 질서를 유지하는 데 뛰어난 관리자입니다. 명확한 규칙과 절차를 중시하며, 효율적으로 업무를 추진합니다. 책임감이 강하고 결단력이 있으며, 목표 달성을 위해 노력합니다.",
        'jobs': ['관리자 👨‍💼', '감독관 👮', '판사 ⚖️', '경찰관 🚓', '재무 관리자 💰', '프로젝트 책임자 🗓️', '군인 🎖️', '기업 임원 🏢']
    },
    'ESFJ': {
        'title': '🎉 사교적인 외교관 (Consul)',
        'description': "ESFJ 유형은 사교적이고 활발하며, 주변 사람들과의 관계를 중요하게 생각하는 외교관입니다. 타인의 감정에 민감하게 반응하며, 다른 사람들을 즐겁게 하고 돕는 데 능숙합니다. 협력적인 분위기를 조성하고 팀워크를 중요하게 생각합니다.",
        'jobs': ['교사 🍎', '영업 관리자 🗣️', '홍보 전문가 📢', '이벤트 플래너 🎊', '호텔 지배인 🏨', '인사 담당자 🫂', '비서 👩‍💼', '고객 지원 전문가 📞']
    },
    'ISTP': {
        'title': '🛠️ 만능 재주꾼 (Virtuoso)',
        'description': "ISTP 유형은 손재주가 뛰어나고 논리적으로 문제를 해결하는 데 능숙한 만능 재주꾼입니다. 직접 경험하고 탐구하는 것을 즐기며, 위기 상황에서 침착하게 대처합니다. 독립적이고 자유로운 성향을 가지고 있습니다.",
        'jobs': ['파일럿 ✈️', '엔지니어 ⚙️', '소방관 🔥', '카레이서 🏎️', '기계공 🔩', '시스템 관리자 💻', '탐험가 🗺️', '수리 기술자 🔧']
    },
    'ISFP': {
        'title': '🎨 호기심 많은 예술가 (Adventurer)',
        'description': "ISFP 유형은 예술적인 감각이 뛰어나고 자유로운 영혼을 가진 예술가입니다. 현재를 즐기고 감각적인 경험을 중요하게 생각하며, 자신의 개성을 표현하는 것을 좋아합니다. 타인에게 친절하고 관대하며, 자연과 동물을 사랑합니다.",
        'jobs': ['예술가 🎨', '디자이너 🖼️', '음악가 🎵', '요리사 🧑‍🍳', '플로리스트 💐', '패션 디자이너 👗', '사진작가 📸', '보석 세공사 💍']
    },
    'ESTP': {
        'title': '🔥 모험을 즐기는 사업가 (Entrepreneur)',
        'description': "ESTP 유형은 대담하고 현실적인 사고방식을 가진 사업가입니다. 뛰어난 임기응변 능력과 사교성을 바탕으로 다양한 사람들과 쉽게 어울리며, 위험을 감수하고 도전을 즐깁니다. 활동적이고 에너지 넘치는 성향을 가지고 있습니다.",
        'jobs': ['사업가 🚀', '마케터 📢', '스포츠 코치 🏋️', '경찰관 👮', '응급구조사 🚑', '영업사원 🗣️', '부동산 중개인 🏘️', '이벤트 기획자 🎉']
    },
    'ESFP': {
        'title': '🎭 자유로운 영혼의 연예인 (Entertainer)',
        'description': "ESFP 유형은 사교적이고 유쾌하며, 주변 사람들에게 즐거움을 주는 연예인입니다. 현실적이고 낙천적이며, 순간을 즐기는 데 능숙합니다. 뛰어난 공감 능력으로 다른 사람들의 감정을 잘 이해하며, 사람들과 함께하는 것을 좋아합니다.",
        'jobs': ['엔터테이너 🎤', '배우 🎬', '이벤트 호스트 🎊', '관광 가이드 🗺️', '피트니스 트레이너 💪', '영업 전문가 🗣️', '바텐더 🍹', '패션 스타일리스트 👗']
    }
}

# 풍선 효과를 위한 문구 리스트
balloon_messages = [
    "🎉 당신에게 딱 맞는 직업을 찾아보세요!",
    "✨ MBTI로 알아보는 흥미로운 직업의 세계!",
    "🎈 당신의 가능성을 펼쳐줄 직업은 무엇일까요?",
    "🎁 MBTI 유형별 맞춤 직업 추천!",
    "🌟 새로운 시작을 위한 첫걸음!",
    "🚀 꿈을 향한 여정을 함께하세요!",
    "🌈 당신의 잠재력을 발견하세요!",
    "💡 MBTI와 함께 미래를 설계하세요!",
    "🎯 당신의 적성을 찾아드립니다!",
    "👍 최고의 선택을 응원합니다!"
]

# --- 웹사이트 레이아웃 설정 ---

# 1. 페이지 제목 설정
st.title("🚀 MBTI 기반 직업 추천 서비스")

# 2. 페이지 설명
st.write("자신의 MBTI 유형을 선택하고 어울리는 직업을 찾아보세요! 더욱 풍부하고 흥미로운 정보를 담았습니다.")
st.write("---")

# 3. MBTI 유형 선택을 위한 드롭다운 메뉴 생성
mbti_types = list(mbti_details.keys())
options = ["--선택하세요--"] + mbti_types
selected_mbti = st.selectbox(
    "🔮 당신의 MBTI 유형을 선택해주세요:",
    options
)

# 4. 사용자가 유형을 선택했을 경우 결과 표시
if selected_mbti != "--선택하세요--":
    mbti_info = mbti_details.get(selected_mbti)
    if mbti_info:
        mbti_title = mbti_info['title']
        mbti_description = mbti_info['description']
        recommended_jobs = mbti_info['jobs']

        st.subheader(f"✅ 당신의 유형: {selected_mbti} {mbti_title}")
        st.write(f"**{mbti_title}** 유형에 대한 설명:")
        st.info(mbti_description)

        st.subheader(f"💼 **{selected_mbti}** 유형에게 추천하는 직업:")
        for job in recommended_jobs:
            st.markdown(f"- {job}")

        st.write("---")
        st.warning("**⚠️ 참고:** 이 추천은 MBTI 유형에 따른 일반적인 경향을 바탕으로 제공되는 정보이며, 개인의 흥미, 가치관, 능력에 따라 직업 만족도는 크게 달라질 수 있습니다. 다양한 가능성을 열어두고 탐색해보시길 바랍니다.")

        # 풍선 효과 추가 (선택 시마다 랜덤한 메시지 출력)
        st.balloons()
        st.success(f"**{random.choice(balloon_messages)}**")

    else:
        st.error("⚠️ 해당 MBTI 유형의 정보를 찾을 수 없습니다.")

else:
    st.info("✨ 위의 드롭다운 메뉴에서 당신의 MBTI 유형을 선택하시면, 해당 유형에 대한 설명과 추천 직업 목록을 확인하실 수 있습니다.")
    st.write("MBTI는 자신을 이해하고 더 나아가 직업 선택에 대한 힌트를 얻는 데 도움을 줄 수 있습니다. 재미있게 활용해보세요! 😊")
